{% extends 'base.html' %}
{% block title %}P√°gina Inicial - Meu Site{% endblock %}
{% block content %}
 <h1>Ol√°, {{ nome_usuario }}!</h1>
 <p>Este HTML est√° separado do meu c√≥digo Python.</p>
 <hr>
<h3>Nova Tarefa:</h3>
<form method="POST">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit">Adicionar Tarefa</button>
</form>
 
 <h3>Tecnologias que estou aprendendo:</h3>
 <ul>
    {% for tec in tecnologias %}
     <li>{{ tec }}</li>
    {% endfor %}
 </ul>
 {% if nome_usuario == 'J√∫nior' %}
    <p>Este √© um conte√∫do especial para o J√∫nior!</p>
 {% endif %}
 <hr>

 <h2>Minha Lista de Tarefas (do Banco de Dados):</h2>
 <ul>
    {% for tarefa in tarefas %}
     <li>
        {{ tarefa.titulo }}
        {% if tarefa.concluida %}
            (‚úì Conclu√≠da)
        {% else %}
            (‚òê Pendente)
        {% endif %}
        <br>
        <small>Criada em: {{ tarefa.criada_em }}</small>
        <br>

          <!-- üîò Novo bot√£o: alternar status -->
       <a href="{% url 'alternar_tarefa' tarefa.id %}">
             {% if tarefa.concluida %}
                 Desmarcar
             {% else %}
                 Marcar como Conclu√≠da
             {% endif %}
        </a> |

        <a href="{% url 'editar_tarefa' tarefa.id %}">Editar</a> |
        <a href="{% url 'excluir_tarefa' tarefa.id %}">Excluir</a>
     </li>
    {% empty %}
     <li>Voc√™ ainda n√£o tem tarefas cadastradas.</li>
    {% endfor %}
 </ul>
{% endblock %}